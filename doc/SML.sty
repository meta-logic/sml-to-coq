
\definecolor{eclipseBlue}{RGB}{42,0.0,255}
\definecolor{eclipseGreen}{RGB}{63,127,95}
\lstdefinelanguage{SML}{
  basicstyle=\footnotesize\ttfamily,
  %
  captionpos=b,
  % 
  tabsize=2,
  %
  columns=fixed,
  %
  breaklines=true,
  %
  frame=l,
  %
%  numbers=left,
  %
  numberstyle=\small\ttfamily,
  %
  morekeywords= {
    EQUAL, GREATER, LESS, NONE, SOME, 
    abstraction, abstype, and, andalso, 
    array, as, before, bool, case, char, 
    datatype, do, else, end, eqtype, 
    exception, exn, false, fn, fun, 
    functor, handle, if, in, include, 
    infix, infixr, int, let, list, local, 
    nil, nonfix, not, o, of, op, open, 
    option, order, orelse, overload, print, 
    raise, real, rec, ref, sharing, sig, 
    signature, string, struct, structure, 
    substring, then, true, type, unit, val, 
    vector, where, while, with, withtype, word
  },
  %
  morestring=[b]",
  %
  morecomment=[s]{(*}{*)},
  %
  stringstyle=\color{black},
  %
  identifierstyle=\ttfamily\color{eclipseBlue},
  %
  keywordstyle=\ttfamily\color{red},
  %
  commentstyle=\ttfamily\color{eclipseGreen},
  % Spaces are not displayed as a special character
  showstringspaces=false,
  %
  mathescape=true,
  %
  literate=
    {_1}{{$_1$}}1
    {_2}{{$_2$}}1
    {_3}{{$_3$}}1
    {_i}{{$_i$}}1
    {_n}{{$_n$}}1
    {\\dots}{{$\dots$}}1
%    {\\forall}{{\color{dkgreen}{$\forall\;$}}}1
%    {\\exists}{{$\exists\;$}}1
%    {<-}{{$\leftarrow\;$}}1
%    {=>}{{$\Rightarrow\;$}}1
%    {==}{{\code{==}\;}}1
%    {==>}{{\code{==>}\;}}1
%    {:>}{{\code{:>}\;}}1
%    {->}{{$\;\rightarrow\;$}}1
%    {<->}{{$\leftrightarrow\;$}}1
%    {<==}{{$\leq\;$}}1
%    {\#}{{$^\star$}}1 
%    {\\o}{{$\circ\;$}}1 
%    {\@}{{$\cdot$}}1 
%    {\/\\}{{$\wedge\;$}}1
%    {\\\/}{{$\vee\;$}}1
%    {++}{{\code{++}}}1
%    {~}{{\ }}1
%    {\@\@}{{$@$}}1
%    {\\mapsto}{{$\mapsto\;$}}1
%    {\\hline}{{\rule{\linewidth}{0.5pt}}}1
%
}

\lstnewenvironment{sml}[1][]{\lstset{language=SML,caption={#1}}}{}

% For inline code
\def\smle{\lstinline[language=SML, basicstyle=\small, escapeinside={~}{^}]}
% For smaller inline code
\def\smles{\lstinline[language=SML, basicstyle=\scriptsize]}
